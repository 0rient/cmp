图文详解xywh

CMP用参数[b]xywh[/b]来指定某个[b]可视对象[/b]在其[b]父可视对象[/b]中的[b]位置[/b]和[b]宽高[/b]

我们所涉及到的长度单位都统一用像素px，下面进行详细说明：

[img]http://farm4.static.flickr.com/3593/3511394729_0e536a005e_o.jpg[/img]
图地址：[url]http://farm4.static.flickr.com/3593/3511394729_0e536a005e_o_d.jpg[/url]
备用图：[url]http://cenfunmusicplayer.googlecode.com/svn/trunk/tools/xywh/xywh.gif[/url]

[b]一，认识2个对象[/b]

[b]可视对象[/b]
即能见的对象，能见不是说必须显示出来，而是指它可以显示也可以隐藏，下面都简称【对象】
如某个窗口、某个按钮等，我们可以简单的将其看成一个【长方形】

[b]父可视对象[/b]
对象的上级(parent)，本身也是可视对象，像一个容器，包含了一个或多个子对象，下面也称【父容器】
如顶级容器就是播放器舞台，它包含了窗口和插件
如窗口容器，它包含了按钮，进度条，文本区等

[b]长方形[/b]
我们可以把这2个对象都看成长方形，即父容器长方形包含着对象长方形
长方形就会有宽度(width)和高度(height)
还有上、下、左、右4条边，以及水平中心线和垂直中心线，共6条边线
边线的交叉就会形成4个顶点，4个边中心点，以及1个水平垂直中心点，共9个点

对应于9中对齐方式：
左上，中上，右上
左中，中中，右中
左下，中下，右下

我们引入2个特殊参数C和R，来表示这9种不同方式的坐标：
(x,y)， (xC,y)， (xR,y)
(x,yC)，(xC,yC)，(xR,yC)
(x,yR)，(xC,yR)，(xR,yR)


[b]二，指定位置[/b]

上面的坐标(x, y)是用来描述一个点(point)在其平面坐标系上的位置(position)
其实就是点到两个轴线之间的距离的组合，即水平方向距离为x，垂直方向距离为y

那么我们怎样指定某个对象在其父容器中的位置呢？

这里我们只需要在对象上取一点
然后指定这个点到父容器垂直方向一条边线之间的距离x
以及指定这个点到父容器水平方向一条边线之间的距离y
这样(x,y)即可表示其位置

可是我们应该在对象上取哪个点？以及在父容器水平和垂直方向取哪两条边线呢？

这里我们规定：[b]对象和父容器都取相同的对齐方式[/b]

也就是，如果对象取左上顶点来定位，那么父容器就取左边和上边来测距
反之也成立，如果想要对象以父容器右边和下边对齐，那么对象就取右下顶点
如果想要对象以父容器右边和水平中线对齐，那么对象就取右边中点
...
这样我们就有9种不同的方式
其实，这是水平和垂直方向各有的3种方式任意组合而成
下面我们先来认识一下水平方向的3种方式
也就是对象在左右移动，左右定位，都取垂直方向的边线进行测距

1，水平居左对齐，默认方式
取对象左边到父容器左边之间的距离，假设为30像素，那么
x = 30
x大于0

2，水平居中对齐，引入居中参数C(center)
取对象垂直中线到父容器垂直中线之间的距离，假设为40像素，那么
xC = 40C
x可以小于0，负值表示偏左，否则偏右

3，水平居右对齐，因为与默认向左相反，所以引入反向参数R(reverse)
取对象右边到父容器右边之间的距离，假设为110像素，那么
xR = 110R
x大于0

同理，在垂直方向也是类似方法
也就是对象在上下移动，上下定位，都取水平方向的边线进行测距

1，垂直居上对齐，默认方式
取对象上边到父容器上边之间的距离，假设为30像素，那么
y = 30
y大于0

2，垂直居中对齐，同样引入居中参数C(center)
取对象水平中线到父容器水平中线之间的距离，假设为20像素，那么
yC = 20C
y可以小于0，负值表示偏上，否则偏下

3，垂直居下对齐，因为与默认向上相反，同样引入反向参数R(reverse)
取对象下边到父容器下边之间的距离，假设为70像素，那么
yR = 70R
y大于0


最后将x和y各有的三种方式，取其中一种进行组合，即可完成9种方式的对齐



[b]三，指定宽高[/b]

也就是对象长方形的宽度(width)以及高度(height)

1，最直接的就是固定宽高，如宽120像素，高80像素：
(w, h) = (120, 80)

2，如果想要和父容器一样宽高，或者一半宽高等，即百分比宽高，这里引入百分比参数P(percent)
如窗口满屏，或视频满窗口：
(w, h) = (100P, 100P)
如总是和父容器一半的宽度和高度：
(w, h) = (50P, 50P)

3，如果想要对象的宽高相对于父容器的宽高，总是在上下或左右有一段边距，这里引入边距参数B(border)
如左右自动拉伸的进度条，设置其宽度总是比所在窗口的宽度在两边少10个像素：
w = 10B
如上下自动拉伸列表，其高度相对于所在窗口高度，总是上下两边留有10像素的边距：
h = 10B
注意，即便对象位置有偏移，对其宽高都不会有影响

以上三种形式可以单独应用于宽或者高，宽高形式可以任意组合
也就是宽固定时，高可以是百分比，或者宽百分比时，高可以用边距



[b]四，组合xywh参数[/b]

这样将位置(x,y)以及宽高(w,h)组合起来，并用英文逗号(,)隔开，即参数：

xywh = "x, y, w, h"

之所以取名为xywh也是为了方便记忆，不易颠倒顺序


这里总结了几句口诀：

[b]上下左右，边对边，边距相减都取正[/b]

[b]中对中，线距相减，左上为负右下正[/b]


常见的一些例子：

xywh="0, 0, 100P, 100P"      宽高和父容器一样，如窗口满屏，视频满窗口
xywh="0C, 0C, 400, 300"      固定宽400像素，高300像素，位置绝对居中(水平垂直都居中)，无偏移
xywh="100C, 0C, 400, 300"    位置绝对居中，但中心向右偏移100像素
xywh="0C, -100C, 400, 300"   位置绝对居中，但中心向上偏移100像素
xywh="0C, 0C, 5B, 10"        两边留5个像素，高10像素，如播放进度条
xywh="5R, 0, 30, 15"         宽30像素高15像素，位置右上角，距右5像素，如关闭按钮


相关描述：

x:  横坐标，水平方向
y:  纵坐标，垂直方向
w:  width 宽度
h:  height 高度
C:  center 居中
R:  reverse 反向，相反
P:  percent 百分比
B:  border 边距，边界
px: pixel 像素，点