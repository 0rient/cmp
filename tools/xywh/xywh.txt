详解xywh及计算方法

CMP用参数[b]xywh[/b]来指定某个[b]可视对象[/b]在其[b]父可视对象[/b]中的[b]位置[/b]和[b]宽高[/b]

[b]可视对象：[/b]
即能见的对象，能见不是说必须显示出来，而是指它可以显示也可以隐藏，下面都简称【对象】
如某个窗口、某个按钮等

[b]父可视对象：[/b]
对象的上级(parent)，本身也是可视对象，像一个容器，包含了一个或多个子可视对象，下面也称【父容器】
如顶级容器就是播放器舞台，它包含了窗口和插件
如窗口容器，它包含了按钮，进度条等

[b]位置：[/b]
一般指一个点(point)在其平面上的位置(position)
如何量化这个位置，首先需要在此平面建立一个坐标系(平面直角坐标系)
那么点的坐标(X, Y)即可表示点在此平面上的位置

默认坐标系原点在左上顶点，并水平向右(x方向)和垂直向下(y方向)递增，即左上对齐(这也是计算机屏幕的坐标系)
如果需要特殊对齐，则有参数C(居中对齐)以及R(反向对齐，右下对齐)

[b]宽高：[/b]
必须有宽度w以及高度h，默认是固定值长度，如果需要特殊宽高(相对宽高)，则还有参数P(百分比)以及B(边距)





涉及到的长度单位都统一用像素px

xywh由4个部分组成，用英文逗号(,)隔开，分别表示对象的x横坐标、y纵坐标、w宽度、h高度
默认仅数值是左上对齐，固定宽高
同时也可用数值加特殊字母，来表示特殊对齐和相对宽高：
x/y:C(水平/垂直居中对齐), R(水平/垂直反向对齐，右对齐/下对齐)
w/h:P(宽/高百分比), B(宽的左右边距/高的上下边距)

相关描述：

x: 横坐标，点在横轴上的值，水平方向
y: 纵坐标，点在纵轴上的值，垂直方向(注意计算机中一般和数学相反，Y轴是向下递增的)
w: width 宽度
h: height 高度
C: center 居中
R: reverse 反向，相反
P: percent 百分比
B: border 边距，边界
px: pixel 像素，点

用一个参数来完成所有这些功能，增加了一定的复杂度，但填写的代码变得非常简洁，整体解析起来也方便
下面进行详细说明：



其实就把它们看成两个[b]长方形[/b]，即一个长方形包含着一个长方形


[b]二，指定宽高[/b]

指定宽高wh比指定位置xy容易，可优先指定
对象的宽高就是对象的大小尺寸，如固定宽400像素，固定高300像素：
w = 400
h = 300
如果要和父容器一样宽，且一样高，如实现窗口满屏，视频满窗口，歌词满窗口等：
w = 100P
h = 100P
如果要宽度相对于父容器宽度，只是左右两边少5像素的边距，如左右自动拉伸的进度条：
w = 5B
如果要高度相对于父容器高度，只是上下两边少10像素的边距，如上下自动拉伸的列表：
h = 10B


[b]三，指定位置[/b]

对象相对于其父容器定位计算公式详解：

首先以父容器的左上边建立一个坐标系(注意计算机中坐标系在垂直方向是向下递增的)

那么可得出父容器的四边和中心相对于坐标系的位置：
1，左边的横坐标等于：0
2，上边的纵坐标等于：0
3，右边的横坐标等于其宽度：父W
4，下边的纵坐标等于其高度：父H
5，水平中心的横坐标等于其宽度的一半：父W/2
6，垂直中心的纵坐标等于其高度的一半：父H/2

然后可得出对象自身的四边和中心相对于坐标系的位置：
1，左边的横坐标等于：自X
2，上边的纵坐标等于：自Y
3，右边的横坐标等于左边加宽度：自X + 自W
4，下边的纵坐标等于上边加高度：自Y + 自H
5，水平中心的横坐标等于左边加宽度的一半：自X + 自W/2
6，垂直中心的纵坐标等于上边加高度的一半：自Y + 自H/2

最后用上面的值计算对象在其父容器中的位置：

速记口诀：

[b]左边取左边，上边取上边，都自边减父边[/b]
[b]右边取右边，下边取下边，都父边减自边[/b]
[b]横中取横中，纵中取纵中，都自中减父中[/b]

“边”指对象长方形上下左右4个边
“中”指对象中心，即一半宽和一半高的位置
“自”指对象自身
“父”指对象的父容器
“横”指横向，水平方向
“纵”指纵向，垂直方向

默认对齐，即左上对齐，直接取数值：

1，如果居左对齐，则都取左边的横坐标，然后相减
计算：x = (自X - 0) = 自X
实际上就是对象自己的横坐标X

2，如果居上对齐，则都取上边的纵坐标，然后相减
计算：y = (自Y - 0) = 自Y
实际上就是对象自己的纵坐标Y

反向对齐，即右下对齐，用到特殊参数R：

3，如果居右对齐，则都取右边的横坐标，然后相减并取反
计算：x = -(自X + 自W - 父W)R = (父W - 自X - 自W)R
实际上就是两个右边之间的距离

4，如果居下对齐，则都取下边的纵坐标，然后相减并取反
计算：y = -(自Y + 自H - 父H)R = (父H - 自Y - 自H)R
实际上就是两个下边之间的距离

居中对齐，用到特殊参数C：

5，水平居中对齐，则都取水平中心的横坐标，然后相减
计算：x = (自X + 自W/2 - 父W/2)C
实际上就是两个水平中心之间的距离，小于0表示在父容器水平中心的左边

6，垂直居中对齐，则都取垂直中心的纵坐标，然后相减
计算：y = (自Y + 自H/2 - 父H/2)C
实际上就是两个垂直中心之间的距离，小于0表示在父容器垂直中心的上边

x和y各有三种方式，它们都可以任意选择其中的一种，然后相组合，即得出位置坐标(x,y)

所有9种组合位置：
左上，中上，右上
左中，中中，右中
左下，中下，右下

对应9种坐标形式：
(x,y)， (xC,y)， (xR,y)
(x,yC)，(xC,yC)，(xR,yC)
(x,yR)，(xC,yR)，(xR,yR)

[b]四，结合xywh参数[/b]

将上述x,y,w,h用英文逗号(,)连接起来，即为当前对象xywh参数的值，如：

xywh="0, 0, 100P, 100P"      宽高和父容器一样，如窗口满屏，视频满窗口
xywh="0C, 0C, 400, 300"      指定宽400像素，高300像素，位置绝对居中
xywh="100C, 0C, 400, 300"    位置绝对居中，但相对中心向右偏移100像素
xywh="-100C, 0C, 400, 300"   位置绝对居中，但相对中心向左偏移100像素
xywh="0C, 0C, 5B, 10"        两边留5个像素，高10像素，如播放进度条
xywh="5R, 0, 30, 15"         宽30像素高15像素，位置右上角，如关闭按钮
